<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather App</title>
    <style>

body {
    font-family: 'Arial', sans-serif;
    background-color: #f0f8ff;
    min-height: 100vh;
    margin: 0;
    display: flex;
    justify-content: center;
    align-items: center;
}

main {
    width: 100vw;
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
}

.weather-card {
    background: linear-gradient(135deg, #6dd5ed, #2193b0);
    border-radius: 1.5rem;
    padding: 2.5rem 2rem;
    box-shadow: 0 2rem 4rem rgba(0, 0, 0, 0.1);
    text-align: center;
    color: #fff;
    max-width: 28rem;
    width: 90vw;
    transition: transform 0.3s;
    margin: 2rem auto;
}

.weather-card:hover {
    transform: scale(1.03);
}

.city-name {
    font-size: 2.2rem;
    margin-bottom: 1.2rem;
}

.weather-info {
    margin: 1.2rem 0;
    display: flex;
    flex-direction: column;
    align-items: center;
}

.weather-icon-container {
    margin-bottom: 1rem;
}

#weather-icon {
    width: 6rem;
    height: 6rem;
}

.weather-description {
    font-size: 1.1rem;
    margin-top: 0.5rem;
    text-transform: capitalize;
}

.temp-container {
    margin-bottom: 1.2rem;
}

.temperature {
    font-size: 3.2rem;
    margin: 0.5rem 0;
}

.feels-like {
    font-size: 1.2rem;
    margin: 0.2rem 0;
}

.weather-details {
    display: flex;
    justify-content: center;
    gap: 2rem;
    margin: 1.2rem 0;
}

.detail-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    font-size: 1.1rem;
}

.last-updated {
    margin: 1rem 0 0.5rem 0;
    font-size: 0.9rem;
    color: #e0f7fa;
}

button {
    background-color: #ff6f61;
    border: none;
    border-radius: 0.5rem;
    color: #fff;
    padding: 0.7em 1.5em;
    font-size: 1.1rem;
    cursor: pointer;
    transition: background-color 0.3s;
    margin: 0.5rem 0.5rem 0 0.5rem;
}

button:hover {
    background-color: #ff4c3b;
}

.search-container {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1.5rem;
}

#city-input {
    padding: 0.6em 1em;
    border-radius: 0.5rem;
    border: none;
    font-size: 1.1rem;
    width: 12rem;
    max-width: 60vw;
}

.loading {
    display: none;
    position: absolute;
    top: 2rem;
    left: 50vw;
    transform: translateX(-50%);
    background: #2193b0;
    color: #fff;
    padding: 1em 2em;
    border-radius: 1em;
    font-size: 1.2rem;
    z-index: 10;
}

@media (max-width: 40em) {
    .weather-card {
        padding: 1.2rem 0.5rem;
        max-width: 98vw;
    }
    .weather-details {
        flex-direction: column;
        gap: 1rem;
    }
    #weather-icon {
        width: 4.5rem;
        height: 4.5rem;
    }
}
      
    </style>
</head>
<body>
    <main>
        <div class="loading" id="loading">Loading weather data...</div>
        <section class="weather-card" aria-live="polite">
            <div class="search-container">
                <input type="text" id="city-input" placeholder="Enter city name">
                <button id="search-button">üîç Search</button>
            </div>
            <h1 class="city-name">Weather in <span id="city">City</span></h1>
            <article class="weather-info">
                <figure class="weather-icon-container">
                    <img id="weather-icon" src="" alt="Current weather condition" loading="lazy" src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/212f32db-812f-4de6-b107-6f6e754ce609.png">
                    <figcaption id="weather-description" class="weather-description">Loading weather data...</figcaption>
                </figure>
                <div class="temp-container">
                    <p class="temperature" id="temperature">-- ¬∞C</p>
                    <p class="feels-like" id="feels-like">Feels like: -- ¬∞C</p>
                </div>
                <div class="weather-details">
                    <div class="detail-item">
                        <span>üíß</span>
                        <p id="humidity">--%</p>
                    </div>
                    <div class="detail-item">
                        <span>üå¨Ô∏è</span>
                        <p id="wind-speed">-- m/s</p>
                    </div>
                    <div class="detail-item">
                        <span>üå°Ô∏è</span>
                        <p id="pressure">-- hPa</p>
                    </div>
                </div>
            </article>
            <div class="last-updated">
                <small id="last-updated">Last updated: --</small>
            </div>
            <button id="refresh-button">üîÑ Refresh</button>
        </section>
    </main>
    <script>

      const apiKey = '6dbf2b63d44f347b71488c2996fba580';
const city = 'Indore'; 

const cityInput = document.getElementById('city-input');
const searchButton = document.getElementById('search-button');
const loadingDiv = document.getElementById('loading');

function setLoading(isLoading) {
    loadingDiv.style.display = isLoading ? 'block' : 'none';
}

function updateWeatherCard(data) {
    document.getElementById('city').textContent = data.name;
    document.getElementById('temperature').textContent = `${Math.round(data.main.temp)} ¬∞C`;
    document.getElementById('feels-like').textContent = `Feels like: ${Math.round(data.main.feels_like)} ¬∞C`;
    document.getElementById('humidity').textContent = `Humidity: ${data.main.humidity}%`;
    document.getElementById('wind-speed').textContent = `Wind Speed: ${data.wind.speed} m/s`;
    document.getElementById('pressure').textContent = `${data.main.pressure} hPa`;
    document.getElementById('weather-icon').src = `http://openweathermap.org/img/wn/${data.weather[0].icon}@2x.png`;
    document.getElementById('weather-description').textContent = data.weather[0].description;
    document.getElementById('last-updated').textContent = `Last updated: ${new Date().toLocaleTimeString()}`;
}

function fetchWeatherData(cityName = city) {
    setLoading(true);
    const url = `https://api.openweathermap.org/data/2.5/weather?q=${cityName}&units=metric&appid=${apiKey}`;
    fetch(url)
        .then(response => response.json())
        .then(data => {
            updateWeatherCard(data);
            setLoading(false);
        })
        .catch(error => {
            setLoading(false);
            alert('Error fetching weather data. Please try again.');
            console.error('Error fetching weather data:', error);
        });
}

document.addEventListener('DOMContentLoaded', () => {
    fetchWeatherData();

    document.getElementById('refresh-button').addEventListener('click', () => {
        alert('Refreshing weather data...');
        location.reload();
    });

    searchButton.addEventListener('click', () => {
        const cityName = cityInput.value.trim();
        if (cityName) fetchWeatherData(cityName);
    });
});
    </script>
</body>
</html>
